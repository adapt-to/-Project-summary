=============
02_文档具体内容
=============

1. 预期目标
==============

本文档的预期目标是能够实现一套适用于双协议的诱骗态量子光源设备。主要的预期指标如下:

.. note::
    1. 实现 **双协议** 兼容并能够快速切换
    2. 实现软件部分对硬件部分的控制
    3. 设备在随机数下发过程中能够长时间稳定性( **8小时以上** )
    4. 实现的双协议为 **BB84协议** 和 **COW协议** ，并且BB84协议传输频率为10Mhz，COW协议的传输频率为40Mhz

2. 可行性分析
==============

本文档所要实现的适用于双协议的诱骗态量子光源设备使用软件和硬件配合的方式。其中，软件部分使用Python进行编写，在软件部分，其可行性分析如下:

.. note::
    1. python的易于学习和快速开发的特性能够使我们快速的实现一套既定目标的软件系统
    2. 由于实现的协议为BB84协议和COW协议，利用代码语言实现它们的传输过程较易实现
    3. python具有众多的第三方库，能够使它和其他软件语言甚至硬件语言达到较好的融合度
    4. 由于软件的灵活，可以实现较多的用于诱骗态量子光源的功能

适用于双协议的诱骗态量子光源设备的硬件部分主要采用的仪器是FPGA开发板、中转控制模块、电控可调衰减器等，其可行性分析如下:

..note::
    1. FPGA开发板可以使用verlig语言进行编写，verlig是较易入门的硬件描述语言
    2. 本系统中交给硬件执行的部分只是对于指令的执行和反馈，其他部分都是交由软件来执行，所以在硬件语言的编写上具有技术实现的可行性
    3. 硬件部分中除了中转控制软件之外的其他仪器和设备本实验室都具有，所以在成本上具有可行性
    4. 硬件处理的难点是对于软件命令的接收，这一步要用到FPGA开发板中的以太网口来接收，这一部分具有难度，不过也是可行的

3. 需求分析
==============

3.1 软件需求分析
--------------

在本节中会对于设备实现的软件部分进行需求分析，并根据具体的需求来对于软件部分进行实现。
软件的需求分析将按照下述两个部分进行展开:

1. 功能需求分析:对于用户想要实现的一些功能通过软件来实现
2. 性能需求分析:性能需求主要是对于设备工作时的稳定度，准确度或者安全性进行分析

下面将对于这两个部分进行说明。

3.1.1 软件功能需求分析
++++++++++++++++++++

经过调研和考虑，在本系统中所需要的主要功能需求共有以下几种：

.. note::
    1.	**一键点击** 即可以发送随机的密钥信息；
    2.	能够实时地获取各种参数的值，具体包括：**激光管温度**、**模块内FPGA板的温度**、**激光模块各通道频率**、**激光模块各通道光强** 等；
    3.	能够实时地设置各个硬件设备的参数值，具体包括：**激光模块各通道的偏置电压**、**衰减模块的衰减值**等；
    4.	在BB84协议中，可以 **任意调节** 诱骗态的占比范围（0~100%之间），满足实验平台的各种可能性；
    5.	能够在发送过程中 **暂停** 和 **继续** 密钥信息的发送；
    6.	可以把系统发送的所有密钥信息 **存储** 在本地文档中，同时能够由使用者选择是否将密钥信息实时显示在界面中；
    7.	使用友好的UI界面实现以上所有功能；
    8.	将软件应用打包成exe可执行文件格式，保护源代码和密钥安全。

以上是软件部分的功能需求的具体内容，下面变会根据这里的需求进行分析和实现

3.1.2 软件性能需求分析
++++++++++++++++++++

软件系统的优差最终的落脚点还是性能好坏来决定的。所以对于性能上的需求是本软件设计部分的核心，同时也是能够反映软件系统安全的。
下面给出本文档的性能需求：

.. note::
    1.	软件发送的信息能够正确打包并下发至硬件设备，**保证不丢包**，**不重发**。能够高效准确的发出指定的密钥信息；
    2.	软件在 **遇到错误** 输入时不发生错误并 **给出提示**，增强了自身健壮性；
    3.	密钥信息处理的 **实时性** 和 **准确性**，由于发送密钥信息的本质是由软件内的随机数决定的，所以为了保证系统发送密钥信息的准确性，系统在内部需要对随机数进行部分分割；
    4.	为了增加本软件的 **可识别性** 和 **可扩展性**，尽量减少软件中模块与模块间的耦合性，增加或者减少软件功能都变得十分方便。

3.2 硬件需求分析
--------------



4. 系统方案设计
==============

4.1 软件方案设计
--------------

4.2 硬件方案设计
--------------

5. 系统实现
==============

5.1 软件实现
--------------

5.1.1 软件的环境搭建
+++++++++++++++++

5.2 硬件实现
--------------

5.2.1 硬件器件的选型
+++++++++++++++++

6. 参考文档
==============
